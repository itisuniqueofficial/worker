<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">
  <title>Zip Worker Generator</title>
  <link href="generator.css" rel="stylesheet">
</head>
<body>
  <header>
    <h1>Zip Worker Generator</h1>
  </header>
  
  <div class="generator-container">
    <p>Enter the file name:</p>
    <input type="text" id="fileNameInput" placeholder="e.g., file-name.zip">
    <button id="generateButton" onclick="generateDownloadUrl()">Generate</button>
    <p>Here is your generated download URL:</p>
    <input placeholder="your-download-url" type="text" id="downloadUrlInput" readonly>
    <button class="copy-btn" onclick="copyDownloadUrl()">Copy URL</button>
  </div>
  
  <footer>
    <p>Copyright &copy; 2024 It Is Unique Official. All rights reserved.</p>
  </footer>
  
  <script>
    // Generate and display the download URL
    function generateDownloadUrl() {
        const fileNameInput = document.getElementById('fileNameInput');
        const downloadUrlInput = document.getElementById('downloadUrlInput');
        
        const fileName = fileNameInput.value.trim();
        if (fileName && isValidFileName(fileName)) {
            // Base64 encode the file name
            const encodedFileName = btoa(fileName);
            // Create the download URL
            const downloadUrl = `https://itisuniqueofficial.github.io/worker/zipWorker.html?file=${encodedFileName}`;
            
            // Set the generated URL to the input field
            downloadUrlInput.value = downloadUrl;
        } else {
            alert("Please enter a valid file name without special characters.");
        }
    }

    // Copy the download URL to the clipboard
    function copyDownloadUrl() {
        const downloadUrlInput = document.getElementById('downloadUrlInput');
        const downloadUrl = downloadUrlInput.value;

        if (downloadUrl) {
            navigator.clipboard.writeText(downloadUrl)
                .then(() => alert("URL copied to clipboard!"))
                .catch(() => alert("Failed to copy URL. Please try again."));
        } else {
            alert("No URL to copy. Please generate one first.");
        }
    }

    // Validate file name to exclude special characters
    function isValidFileName(fileName) {
        // Allow alphanumeric characters, underscores, hyphens, and periods
        const fileNameRegex = /^[a-zA-Z0-9._-]+$/;
        return fileNameRegex.test(fileName);
    }
  </script>
</body>
</html>
